{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport classNames from \"classnames\";\nimport { Hex } from \"../models/Hex\";\nimport { HexUtils } from \"../HexUtils\";\nimport { useLayoutContext } from \"../Layout\";\n/**\n * Renders a Hexagon cell at the given rqs-based coordinates.\n */\nexport function Hexagon(props) {\n  // destructure props into their values\n  var q = props.q,\n    r = props.r,\n    s = props.s,\n    fill = props.fill,\n    cellStyle = props.cellStyle,\n    className = props.className,\n    children = props.children,\n    _onDragStart = props.onDragStart,\n    _onDragEnd = props.onDragEnd,\n    _onDrop = props.onDrop,\n    _onDragOver = props.onDragOver,\n    _onMouseEnter = props.onMouseEnter,\n    _onMouseLeave = props.onMouseLeave,\n    _onMouseOver = props.onMouseOver,\n    _onClick = props.onClick,\n    data = props.data,\n    fillOpacity = props.fillOpacity,\n    rest = __rest(props, [\"q\", \"r\", \"s\", \"fill\", \"cellStyle\", \"className\", \"children\", \"onDragStart\", \"onDragEnd\", \"onDrop\", \"onDragOver\", \"onMouseEnter\", \"onMouseLeave\", \"onMouseOver\", \"onClick\", \"data\", \"fillOpacity\"]);\n  var _useLayoutContext = useLayoutContext(),\n    layout = _useLayoutContext.layout,\n    points = _useLayoutContext.points;\n  var _React$useMemo = React.useMemo(function () {\n      var hex = new Hex(q, r, s);\n      var pixel = HexUtils.hexToPixel(hex, layout);\n      return {\n        hex: hex,\n        pixel: pixel\n      };\n    }, [q, r, s, layout]),\n    hex = _React$useMemo.hex,\n    pixel = _React$useMemo.pixel;\n  // for backwards comapatbility\n  var state = {\n    hex: hex\n  };\n  var fillId = fill ? \"url(#\".concat(fill, \")\") : undefined;\n  var draggable = {\n    draggable: true\n  };\n  return _jsx(\"g\", Object.assign({\n    className: classNames(\"hexagon-group\", className),\n    transform: \"translate(\".concat(pixel.x, \", \").concat(pixel.y, \")\")\n  }, rest, draggable, {\n    onDragStart: function onDragStart(e) {\n      if (_onDragStart) {\n        var targetProps = {\n          hex: hex,\n          pixel: pixel,\n          data: data,\n          fill: fill,\n          className: className\n        };\n        e.dataTransfer.setData(\"hexagon\", JSON.stringify(targetProps));\n        _onDragStart(e, {\n          data: data,\n          state: state,\n          props: props\n        });\n      }\n    },\n    onDragEnd: function onDragEnd(e) {\n      if (_onDragEnd) {\n        e.preventDefault();\n        var success = e.dataTransfer.dropEffect !== \"none\";\n        _onDragEnd(e, {\n          state: state,\n          props: props\n        }, success);\n      }\n    },\n    onDrop: function onDrop(e) {\n      if (_onDrop) {\n        e.preventDefault();\n        var target = JSON.parse(e.dataTransfer.getData(\"hexagon\"));\n        _onDrop(e, {\n          data: data,\n          state: state,\n          props: props\n        }, target);\n      }\n    },\n    onDragOver: function onDragOver(e) {\n      if (_onDragOver) {\n        _onDragOver(e, {\n          data: data,\n          state: state,\n          props: props\n        });\n      }\n    },\n    onMouseEnter: function onMouseEnter(e) {\n      if (_onMouseEnter) {\n        _onMouseEnter(e, {\n          data: data,\n          state: state,\n          props: props\n        });\n      }\n    },\n    onClick: function onClick(e) {\n      if (_onClick) {\n        _onClick(e, {\n          data: data,\n          state: state,\n          props: props\n        });\n      }\n    },\n    onMouseOver: function onMouseOver(e) {\n      if (_onMouseOver) {\n        _onMouseOver(e, {\n          data: data,\n          state: state,\n          props: props\n        });\n      }\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      if (_onMouseLeave) {\n        _onMouseLeave(e, {\n          data: data,\n          state: state,\n          props: props\n        });\n      }\n    }\n  }, {\n    children: _jsxs(\"g\", Object.assign({\n      className: \"hexagon\"\n    }, {\n      children: [_jsx(\"polygon\", {\n        points: points,\n        fill: fillId,\n        style: cellStyle\n      }), children]\n    }))\n  }));\n}\nexport default Hexagon;","map":{"version":3,"names":["React","classNames","Hex","HexUtils","useLayoutContext","Hexagon","props","q","r","s","fill","cellStyle","className","children","onDragStart","onDragEnd","onDrop","onDragOver","onMouseEnter","onMouseLeave","onMouseOver","onClick","data","fillOpacity","rest","__rest","_useLayoutContext","layout","points","_React$useMemo","useMemo","hex","pixel","hexToPixel","state","fillId","concat","undefined","draggable","_jsx","Object","assign","transform","x","y","e","targetProps","dataTransfer","setData","JSON","stringify","preventDefault","success","dropEffect","target","parse","getData","_jsxs","style"],"sources":["../../src/Hexagon/Hexagon.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}